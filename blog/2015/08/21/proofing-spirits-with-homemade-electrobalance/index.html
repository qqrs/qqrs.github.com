
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Proofing Spirits with a Homemade Electrobalance - </title>
  <meta name="author" content="Russell Smith">

  
  <meta name="description" content="A panel voltmeter can be used to build a milligram-range electrobalance, which turns out to produce surprisingly linear measurements. Using a bare- &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://qqrs.github.com/blog/2015/08/21/proofing-spirits-with-homemade-electrobalance/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>

  <!-- mathjax config similar to math.stackexchange -->
  <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
              inlineMath: [ ['\\$', '\\$'] ],
              displayMath: [ ['$$', '$$']],
              processEscapes: true,
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          },
          messageStyle: "none",
          "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
      });
  </script>
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  <link href="/atom.xml" rel="alternate" title="" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39885144-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Proofing Spirits With a Homemade Electrobalance</h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-08-21T20:04:00-04:00" pubdate data-updated="true">Aug 21<span>st</span>, 2015</time>
        
      </p>
    
  </header>


<div class="entry-content"><div style="position:relative;padding-bottom:calc(100% / 1.78)"><iframe src="https://gfycat.com/ifr/PoliticalHarmoniousAracari" frameborder="0" scrolling="no" width="100%" height="100%" style="position:absolute;top:0;left:0;" allowfullscreen=""></iframe></div>

<p>A panel voltmeter can be used to build a milligram-range electrobalance, which turns out to produce surprisingly linear measurements.</p>

<p>Using a bare-bones panel meter electrobalance, I attempted to measure the proof of alcohol by tracking evaporation over time.</p>

<h2 id="electrobalance">Electrobalance</h2>
<p>A <a href="http://www.allaboutcircuits.com/textbook/direct-current/chpt-8/what-is-a-meter/">typical panel meter</a> passes a current through a coil to generate a magnetic field,
which generates a force in the presence of a permanent magnet and causes the needle to move.</p>

<p>The meter I had at hand is a 0–15V voltmeter, so it includes a 75k resistor in series with the coil in order to present an appropriate input impedance for that voltage range
(think <a href="http://www.allaboutcircuits.com/textbook/direct-current/chpt-10/thevenin-norton-equivalencies/">Thevenin and Norton equivalents</a>).
The coil has a DC resistance of approximately 520 ohms, which means the full-scale current for the coil is about 200 microamps.</p>

<p>To convert the voltmeter into an electrobalance, I replaced the 75k resistor with a 1k series resistor and connected an adjustable voltage power supply for testing.
This range permits currents from a few hundred microamps to several milliamps, which is enough to lift small loads without destroying the coil.
However, it’s worth noting that if accuracy were a significant concern, coil heating resulting from the higher-than-rated currents would likely be non-negligible.</p>

<p>I turned the meter on its side and placed the load on the needle, then increased the power supply voltage until the needle was centered and read the current using a multimeter.
One drawback to this simple system is that for repeatable measurements it requires care to ensure the load is placed on the same position along the needle and the needle is raised to the same center point every time.</p>

<div style="position:relative;padding-bottom:calc(100% / 1.33)"><iframe src="https://gfycat.com/ifr/ImpishThisGrouper" frameborder="0" scrolling="no" width="100%" height="100%" style="position:absolute;top:0;left:0;" allowfullscreen=""></iframe></div>

<h2 id="linearity">Linearity</h2>

<p>To test the linearity of the scale I used a set of calibration weights from Ebay.
While they didn’t include a traceable calibration certificate (or make any accuracy claims at all), they were very inexpensive.</p>

<p><img class="center" src="/images/electrobalance/electrobalance_test_weights.jpg" title="'Test weight set'" /></p>

<p>I made measurements manually across a range of load weights. The plot confirms that the electrobalance is at least linear enough for further investigation.</p>

<p><img class="center" src="/images/electrobalance/electrobalance_linearity.png" title="'Electrobalance linearity graph'" /></p>

<h2 id="spirits">Spirits</h2>

<p>I suspected it might be possible to identify the percentage alcohol in a solution by measuring the evaporation curve.</p>

<p>Since alcohol evaporates more easily than water, more alcohol than water can be expected to evaporate at first,
and as the alcohol concentration drops the overall evaporation rate will also slow until it approaches the evaporation rate of pure water.</p>

<p>The evaporation time constant <script type="math/tex"> \tau </script> can found by an exponential fit to <script type="math/tex"> y = ke^{\frac{-t}{\tau}} </script>.</p>

<p><img class="center" src="/images/electrobalance/electrobalance_evaporation_slivovitz.png" title="'Electrobalance 40% EtOH evaporation graph'" /></p>

<p>I took data by weighing cotton samples dipped in several solutions: tap water, isopropyl alcohol, and ethanol at various proofs.</p>

<p>However, from this data, it does not seem to be possible to directly calculate alcohol proof from time constant, though the general trend does seem to hold.</p>

<p>Eliminating the sources of error related to manual measurement and taking more frequent data points during evaporation might provide more conclusive data.
However, it may be the case that a significant component of the evaporation time constant is determined by the surface area of the sample.
With such small samples sizes, it may not be possible to get repeatable measurements without carefully controlling the cotton dimensions and sample volume.</p>

<table>
  <thead>
    <tr>
      <th>Sample</th>
      <th>Evaporation time constant</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>50% IPA</td>
      <td>28.6</td>
    </tr>
    <tr>
      <td>water</td>
      <td>76.9</td>
    </tr>
    <tr>
      <td>20% EtOH</td>
      <td>22.2</td>
    </tr>
    <tr>
      <td>40% EtOH (Slivovitz)</td>
      <td>15.4</td>
    </tr>
    <tr>
      <td>40% EtOH (Slivovitz)</td>
      <td>20.4</td>
    </tr>
    <tr>
      <td>unknown EtOH #1</td>
      <td>20.4</td>
    </tr>
    <tr>
      <td>unknown EtOH #2</td>
      <td>18.5</td>
    </tr>
  </tbody>
</table>

<h2 id="automation">Automation</h2>

<p>Next, I attempted to automate the measurements by adding a photointerruptor to detect the needle position.
When the needle is lowered, an electrical tape flag on the needle blocks the infrared LED from illuminating the phototransistor.
A microcontroller applies power to the coil using a PWM-controlled FET.
When the needle begins to raise, the microcontroller detects the change in phototransistor output.</p>

<p><img class="center" src="/images/electrobalance/electrobalance_photointerruptor.jpg" title="'Panel meter with photointerruptor'" /></p>

<p><img class="center" src="/images/electrobalance/electrobalance_photointerruptor_circuit.jpg" title="'Photointerruptor circuit'" /></p>

<p><img class="center" src="/images/electrobalance/electrobalance_system_diagram.jpg" title="'Electrobalance system diagram'" /></p>

<p>As a first attempt, I programmed the microcontroller to simply ramp the PWM duty cycle until the phototransistor signal changed.
This did the job, but had to be run painfully slowly to produce accurate results.
When the ramp rate was increased, the needle would overshoot, leading to significant variability between measurements.</p>

<div style="position:relative;padding-bottom:calc(100% / 1.78)"><iframe src="https://gfycat.com/ifr/AllCrazyFrogmouth" frameborder="0" scrolling="no" width="100%" height="100%" style="position:absolute;top:0;left:0;" allowfullscreen=""></iframe></div>

<p>I made a quick pass at implementing PID control, but the digital-only feedback and relatively slow response made it difficult to find parameters that would allow the needle to settle.
Since I didn’t want to spend all day tuning control algorithms, I had to leave this part of the project for another time.</p>

<div style="position:relative;padding-bottom:calc(100% / 1.78)"><iframe src="https://gfycat.com/ifr/VerifiableFamousAngora" frameborder="0" scrolling="no" width="100%" height="100%" style="position:absolute;top:0;left:0;" allowfullscreen=""></iframe></div>

<h2 id="inspiration-and-references">Inspiration and References</h2>

<p>The inspiration for this project comes from an article in the Amateur Scientist column of <em>Scientific American</em> that I found years ago,
<a href="http://web.archive.org/web/20011031150021/http://www.scientificamerican.com/2000/1000issue/1000amsci.html">Down Among the Micrograms</a>.</p>

<p>Expanded versions of that article also appeared in several issues of the
<a href="https://web.archive.org/web/20061231172955/http://www.sas.org/tcs/weeklyIssues/2004-11-12/Classics/index.html">Society for Amateur Scientists newsletter</a>
(<a href="https://www.dropbox.com/s/tc96svyovprii1f/microgram_electrobalance.pdf?dl=0">PDF mirror</a>)
(<a href="https://www.dropbox.com/s/fswmy7v7cemjuzv/e-bal.pdf?dl=0">Forth source code mirror</a>).</p>

<p>There are a few other incarnations that are worth a look:<br />
<a href="http://www.sci-spot.com/Mechanical/balance.htm">Digital Balance</a> (sci-spot.com)<br />
<a href="https://www.youtube.com/watch?v=n90whRO-ypE">Weigh an Eyelash—Build a Microgram Scale</a> (Youtube video, Paul Grohe, Texas Instruments)<br />
<a href="http://www.avrfreaks.net/forum/stk-500-based-microgram-scales?page=all">STK-500 based microgram scales</a> (avrfreaks.net forum thread)  </p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Russell Smith</span></span>

      








  


<time datetime="2015-08-21T20:04:00-04:00" pubdate data-updated="true">Aug 21<span>st</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/electronics/'>electronics</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/05/03/vim-on-a-mechanical-typewriter/" title="Previous Post: Vim on a Mechanical Typewriter">&laquo; Vim on a Mechanical Typewriter</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/12/15/time-fountain/" title="Next Post: Time Fountain">Time Fountain &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="/" alt="Home"><img src="/images/Home.png"></a>
      <a href="/archives/" alt="Archives"><img src="/images/Calendar.png"></a>
      <a href="/about" alt="About"><img src="/images/Envelope.png"></a>
      <a href="/atom.xml" alt="subscribe feed"><img src="/images/rss_big.png"></a>
      </li>
  </ul>
</section>
<section>
<ul id="recent_posts">
  <li class="post">
    <div class="site-title"> <a href="/" alt="Home"></a> </div>
    <div class="site-author"> <a href="/about" alt="About">Russell Smith</a> </div>
  </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/04/08/reading-notes-the-architecture-of-open-source-applications/">Reading Notes: The Architecture of Open Source Applications II</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/04/04/writing-a-bittorrent-client/">Writing a BitTorrent Client</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/15/time-fountain/">Time Fountain</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/21/proofing-spirits-with-homemade-electrobalance/">Proofing Spirits with a Homemade Electrobalance</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/03/vim-on-a-mechanical-typewriter/">Vim on a Mechanical Typewriter</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/qqrs">@qqrs</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'qqrs',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Russell Smith -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
